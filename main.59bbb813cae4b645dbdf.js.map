{"version":3,"sources":["webpack:///./js/fetchCountries.js","webpack:///./js/getRefs.js","webpack:///./index.js"],"names":["fetchCountries","searchQuery","fetch","then","response","json","require","defaults","delay","refs","inputSearch","document","querySelector","container","country","addEventListener","debounce","innerHTML","value","countriesAPI","data","length","map","element","textContent","name","capital","population","flag","insertAdjacentHTML","languages","forEach","language","item","createElement","append","onlyCountry","success","text","list","listCountries","info","error","renderCountries"],"mappings":"wPAOe,OAAEA,eALjB,SAAwBC,GACxB,OAAOC,MAHU,yCAGUD,GAAeE,MAAK,SAAAC,GAAQ,OACnDA,EAASC,YCJQC,EAAQ,QAArBC,SCQRA,WAASC,MAAQ,IAEjB,IAAMC,EDPG,CACLC,YAAaC,SAASC,cAAc,kBACpCC,UAAWF,SAASC,cAAc,qBAClCE,QAAS,ICMbL,EAAKC,YAAYK,iBAAiB,QAASC,KAE3C,WACEP,EAAKI,UAAUI,UAAY,GAC3BR,EAAKK,QAAUL,EAAKC,YAAYQ,MAChCC,EAAanB,eAAeS,EAAKK,SAASX,MAAK,SAAAiB,IAKjD,SAAyBA,GACH,IAAhBA,EAAKC,UAmBX,SAAqBD,GACCA,EAAKE,KAAI,SAAAC,GAC3B,IAAMC,EAAc,+BAA+BD,EAAQE,KAA1C,0GAAwJF,EAAQG,QAAhK,iEAAwOH,EAAQI,WAAhP,sFAAgVJ,EAAQK,KAAxV,WACjBnB,EAAKI,UAAUgB,mBAAmB,aAAcL,GAE/BD,EAAQO,UAAUC,SAAQ,SAAAC,GACzC,IAAMC,EAAOtB,SAASuB,cAAc,MACpCD,EAAKT,YAAcQ,EAASP,KAC5BhB,EAAKI,UACFD,cAAc,mCACduB,OAAOF,SA5BZG,CAAYhB,GACZiB,kBAAQ,CACNC,KAAM,6BAGNlB,EAAKC,OAAS,GAAKD,EAAKC,QAAU,MA4BxC,SAAuBD,GACrB,IAAMmB,EAAO5B,SAASuB,cAAc,MACtBd,EAAKE,KAAI,SAAAC,GACrB,IAAMU,EAAOtB,SAASuB,cAAc,MACpCD,EAAKT,YAAcD,EAAQE,KAC3Bc,EAAKJ,OAAOF,MAEdxB,EAAKI,UAAUsB,OAAOI,GAlCpBC,CAAcpB,GACdqB,eAAK,CACHH,KAAM,8DAGNlB,EAAKC,OAAS,IAChBqB,gBAAM,CACJJ,KAAM,gEAnBRK,CAAgBvB,QAN+C,Q","file":"main.59bbb813cae4b645dbdf.js","sourcesContent":["const BASE_URL = 'https://restcountries.eu/rest/v2/name/';\n\nfunction fetchCountries(searchQuery) {\nreturn fetch(`${BASE_URL}${searchQuery}`).then(response =>\n    response.json())\n}\n\nexport default { fetchCountries };\n          \n","const { defaults } = require('@pnotify/core');\n\nexport default function getRefs() {\n  return {\n    inputSearch: document.querySelector('#searchCountry'),\n    container: document.querySelector('.containerCountry'),\n    country: '',\n  };\n}\n","import debounce from '../node_modules/lodash.debounce';\nimport { defaults, info, success, error } from '@pnotify/core';\nimport '@pnotify/core/dist/PNotify.css';\nimport '@pnotify/core/BrightTheme.css';\nimport './main.scss';\nimport countriesAPI from './js/fetchCountries';\nimport getRefs from './js/getRefs';\n\ndefaults.delay = 1000;\n\nconst refs = getRefs();\n\nrefs.inputSearch.addEventListener('input', debounce(searchCountry, 500));\n\nfunction searchCountry() {\n  refs.container.innerHTML = '';\n  refs.country = refs.inputSearch.value;\n  countriesAPI.fetchCountries(refs.country).then(data => {\n    renderCountries(data);\n  });\n}\n\nfunction renderCountries(data) {\n  if (data.length === 1) {\n    onlyCountry(data);\n    success({\n      text: ' Your query is correct!',\n    });\n  }\n  if (data.length > 2 && data.length <= 10) {\n    listCountries(data);\n    info({\n      text: ' For more detailed information please specify the query!',\n    });\n  }\n  if (data.length > 10) {\n    error({\n      text: 'Too many matches found. Please enter a more specific query!',\n    });\n  }\n}\n\nfunction onlyCountry(data) {\n  const cardCountry = data.map(element => {\n    const textContent = `<h2 data-description=\"name\">${element.name}</h2><div class=\"content\"><div class=\"textcontent\"><p data-description=\"capital\"><span>Capital: </span>${element.capital}</p><p data-description=\"population\"><span>Population: </span>${element.population}</p><ul data-description=\"languages\"><span>Languages: </span></ul></div> <img src=\"${element.flag}\"></div>`;\n    refs.container.insertAdjacentHTML('afterbegin', textContent);\n\n    const listLang = element.languages.forEach(language => {\n      const item = document.createElement('li');\n      item.textContent = language.name;\n      refs.container\n        .querySelector('[data-description =\"languages\"]')\n        .append(item);\n    });\n  });\n}\n\nfunction listCountries(data) {\n  const list = document.createElement('ul');\n  const items = data.map(element => {\n    const item = document.createElement('li');\n    item.textContent = element.name;\n    list.append(item);\n  });\n  refs.container.append(list);\n}\n\n\n\n"],"sourceRoot":""}